

камера - отключить тени, отключить совсем?

=======
если включать рей интеракторы имея предмет в руке нарушается логика - не отключается рей как должен т.к. предмет в руке. из за этого просто при наведении все начинает лететь в руку но не может схватиться и падает.
решение
- или при включении рей интерактора проверять есть ли че в руке для каждой руки и отправлять команду на отключение луча сразу
- или не давать интерактить с юи с предметом в руке
-------


5) еще раз покумекать над багом почему плиту заклинивает
------
сделать уменьшение предметов при помещении в рюкзак
сделать секрет на месте длинной темной стены
сделать бочку с водой
сделать выбор играешь сидя/стоя/калибровку высоты

сделать дополнительные контроллеры с невидимыми лучами.
которые позволяют грабать объекты как  в инто зе радиус. т.е. наводишь на объект, он в фокусе. жмешь курок, фокус фиксируется. жмешь граб предмет в руке.
если предмет неподнимаемый, то рука исчезает показывается луч который тянется к предмету управляем лучом

рей на юи сквозь стены (пока костыль, ограничил максимальную длину луча) (делать доп рейкаст при он хавер чтобы проверять нет ли промежуточного объекта)
=====
сделал так что объект в руке не коллайдится с телом игрока. (если коллайдится - толкает его назад)(скорее всего это связано с тем, как я ограничиваю игрок от хождения сквозь стены, путем инициации коллизии движением туда сюда)

на подумать - сделать так, чтобы с телом коллайдилось, но не толкало игрок назад 



=============
баги
---------------
сейчас при выходе в текстуры пропадает ретикл телепорта. 
я сделал скрипт который дисейблит ретикл телепорта при первом енейбле (и сделал так что при включении телепорта мы его показываем - событие он селек ентер на телепорт ареа) . Но это скрипт багует если вот в коллайдер входить.

а без него ретикл виден всегда (при скрытом луче - в позиции с координатами 0 0 0, что в данном случае не страшно, но в вр рум например видно)
пока отключил, т.к. тут неважно.

-------------
баг со сходом с плиты. плита фиксирует повторный заход игроком (т.е. полный вес) и не фиксирует сход даже если зайти выйти. на компе не смог вопроизвести. проблема коллизий?
баг проявляется чаще если плита меньше
----------------------

--------------
сделать тушение при телепорте сквозь водопад - костыльный вариант - невидимый коллайдер, непрозрачный для телепорта, активирующийся, если игрок берет в руки факел
-----------------------------------------
пиздец какая то хрень со светом не пойму почему проникает ничего не помогает

короче проблема с точечными источниками и их количеством.
также влияет дистанция света, если она больше чем в 10 раз больше толщины стены, начинает проникать. стабильно. но даже если подобрать интенсивность и дистанцию так, чтобы не проникало, то странный эффект, что если 1 источник (факел), то норм. Если 2, изредка проникает. если 3, 4 и т.п. - все, стабильное пробитие. с камином проникает с 1 камина
и это работает даже если я вообще отключу свет партиклов и сделаю только свет поинт лайт. тупо 
может быть свет все таки проникает но как то взаимоумножается?

короче да. в юнити стоит так что для мобильных платформ максимально 32 источника света в кадре (или 8 на объект в зависимости от рендеринга). Если их больше, то наиболее интенсивный (с точки зрения камеры игрока а не освещаемого объекта) генерит тени а те что менее (после 32) нет (вертекс лайт сорсы)

да нет бред какой тоесли 5 лайтсорсов то свет не клипает. если больше то пиздец.
не понимаю


у факела 6 стейты

- не горит: как обычный дин объект (в руке, нет, в рюкзаке)

- горит - как факел дин объект (в руке, нет, в рюкзаке)

если стейты как факел не отбрасывает тень


-----
мб тень от факела а не от постамента?

не, убирал все предметы, осталял только лайты. проблема если больше 5 источников света. и по разному выглядит при разных тенях и рендеринге. что то в алгоритмах рендеринга...


скрипт на факелы. если не в камере и дистанция больше чем максимальный рейндж - отключать свет

засветка под стеной от камина - мб можно как то убрать? - походу это тоже из за большого количества источников света

первый косяк. 
если мы не глядя на факел подойдем к нему - свет не включится

второй косяк. мы можем смотреть из далека на факел и его видно но если мы чуть в бок посмотрим свет пропадет


----
вокруг каждого источника света создаем невидимый рендерер шар с его эффективным радиусом. отслеживаем видимость по этому рендереру

упрощение - куб. можно сферу.

сделать чтобы скейлилась при изменении дистанса?
---
сделал.
пиздецки просела производительность. прозрачные объекты жрут производительность
----
нашел решение
в настройках рендера можно отключать рендер определенных слоев. при этом, он визибл на них срабатывает.


коллизия телепортной руки с вотерфоллом (когда уже прошли вотерфолл, она еще застряла, надо ее телепортнуть)

решил через 2 триггера. один триггерит что пришли со стороны воды. 
второй вызывает отклоючение стены если пришли со стороны воды
и оба реагируют на руку телепорт и включают обратно стену